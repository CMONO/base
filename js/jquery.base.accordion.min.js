(function(){var e,t,n,r={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},s=window.jQuery,o=window.BASE;s.fn.accordion=function(e){var t,n=this,r=Array.prototype.slice.call(arguments);return r.push(o.Accordion),t=o.createWidgetByJQuery.apply(n,r),t.jqObj!=null&&e!=="widget"?n:t},o.Accordion=function(t){function n(e,t){var n,r,i=this;if(!(i instanceof o.Accordion))return new o.Accordion(e,t);n={accordionClass:""+o.defaultBorder+" uiCornerAll "+o.defaultBoxShadow,titleBarClass:o.defaultGradientBG,activeClass:o.defaultGradientBG,itemTitleBarClass:"uiBlueGradientBG",active:[0],event:"click",titleIcon:null,animation:"toggle",title:null,itemTitleList:null,height:"auto",toggle:!1,hideOthers:!0,animating:!1,titleBarHTML:'<div class="uiAccordionTitleBar uiNoSelectText"><span class="title"></span></div>',itemTitleBarHTML:'<div class="uiTitleBar uiNoSelectText"><span class="uiUserBtn uiSmallIcon uiArrowDownIcon"></span><span class="uiTitle"></span></div>',changeStart:s.noop,change:s.noop},r=s.extend(n,t),i.constructor.__super__.constructor.call(i,e,r),i.init()}return i(n,t),n.prototype.init=function(){var t=this;return t.createWidget(),e(t.jqObj,t.opts),t},n.prototype.activate=function(e){var t,n,r,i=this,o=i.jqObj,u=i.opts;return arguments.length===0?(t=[],r=s("> .uiTitleBar",o),r.each(function(e){if(s(this).hasClass(u.activeClass))return t.push(e)}),t):(n=s("> .uiTitleBar",o).eq(e),n.hasClass(u.activeClass)||n.trigger(u.event),i)},n.prototype.item=function(e,t,n){var r,i,o=this,u=o.jqObj,a=o.opts;return e==null&&(e=0),i=s("> .uiTitleBar",u).eq(e),r=i.next(),arguments.length===1?r:arguments.length===2?t!=null?(r.html(t),o):i:(i.children(".uiTitle").html(n),t!=null&&r.html(t),o)},n.prototype.addItem=function(e,t,n){var r,i,o=this,u=o.jqObj,a=o.opts,f=s(e);return t==null&&(t=f.attr("title")),i=s(a.itemTitleBarHTML).addClass(a.itemTitleBarClass).children(".uiTitle").html(t).end(),f.addClass("uiContent uiHidden").height(a.height),arguments.length===2?(r=s("> .uiTitleBar",u).eq(n),i.insertBefore(r),f.insertBefore(r)):u.append(i).append(f),o},n.prototype.removeItem=function(e){var t=this,n=t.jqObj,r=t.opts;return e==null&&(e=0),s(">.uiTitleBar",n).eq(e).next().andSelf().remove()},n.prototype.title=function(e){var t=this,n=t.jqObj,r=t.opts,i=s(">.uiAccordionTitleBar > .title",n);return arguments.length===0?i.text():(i.text(e),t)},n.prototype.titleIcon=function(e){var t,n=this,r=n.jqObj,i=n.opts;return arguments.length===0?i.titleIcon:(i.titleIcon===null&&s(">.uiAccordionTitleBar",r).prepend(s('<span class="uiTitleIcon" />')),t=s("> .uiAccordionTitleBar > span.uiTitleIcon",r).removeClass(i.titleIcon).addClass(e),i.titleIcon=e,n)},n}(o.Widget),e=function(e,n){var r,i=n.title||e.attr("title");return i!=null&&(r=s(n.titleBarHTML).addClass(n.titleBarClass).children(".title").html(i).end(),n.titleIcon!=null&&r.prepend(s('<span class="uiTitleIcon" />')).addClass(n.titleIcon)),e.addClass("uiAccordion uiWidget "+n.accordionClass).children("div").each(function(e){var t,r="uiHidden",o=n.itemTitleBarClass,u="",a=s(this);if(n.active==="all"||s.inArray(e,n.active)!==-1)r="",o=""+n.activeClass+" uiActive",u="uiArrowUpIcon uiArrowDownIcon";return i=null,s.isArray(n.itemTitleList)&&(i=n.itemTitleList[e]),i==null&&(i=a.attr("title")),t=s(n.itemTitleBarHTML).addClass(o),t.children(".uiUserBtn").toggleClass(u).siblings(".uiTitle").html(i),t.insertBefore(a.addClass("uiContent "+r).height(n.height))}),e.prepend(r),t(e,n),null},t=function(e,t){return e.on(""+t.event+".uiAccordion",function(n){var r,i,o;if(t.disabled||t.animating)return;o=s(n.target);if(!o.hasClass("uiTitleBar")){o=o.parent(".uiTitleBar");if(o.length===0)return}if(!t.toggle&&o.hasClass(t.activeClass))return;return t.changeStart(e,o,n)===!1?!1:(t.animating=!0,i=t.hideOthers===!0?s(">.uiTitleBar."+t.activeClass,e).not(o).removeClass(""+t.activeClass+" uiActive").addClass(t.itemTitleBarClass):null,r=o.toggleClass(""+t.itemTitleBarClass+" "+t.activeClass+" uiActive").add(i),r.children(".uiUserBtn").toggleClass("uiArrowUpIcon uiArrowDownIcon"),r.next(".uiContent").stop(!0,!0)[t.animation](t.animateTime,function(){return s(this).is(":visible")&&t.change(e,o,n),t.animating=!1}))}),null},n=function(e){var t,n,r,i,o,u=0,a=e.children(".uiContent");return e.children().each(function(){var e=s(this);if(!e.hasClass(!e.hasClass("uiResizable")))return u+=s(this).outerHeight(!0)}),n=a.outerheight(!0),o=n-a.height(),r=e.find("img"),r.length!==0?(i=r.length,t=0,r.each(function(){if(!this.complete)return s(this).load(function(){t++;if(t===i)return a.height(e.height()-u-o)});t++;if(t===i)return a.height(e.height()-u-o)})):a.height(e.height()-u-o),null}}).call(this)