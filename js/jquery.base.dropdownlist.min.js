((function(){var a,b,c,d,e=Object.prototype.hasOwnProperty,f=function(a,b){function d(){this.constructor=a}for(var c in b)e.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};a=window.jQuery,b=window.BASE,a.fn.dropDownList=function(a){var c,d,e;return e=this,c=Array.prototype.slice.call(arguments),c.push(b.DropDownList),d=b.createWidgetByJQuery.apply(e,c),d.jqObj!=null&&a!=="widget"?e:d},b.DropDownList=function(d){function e(c,d){var e,f;e=this;if(e instanceof b.DropDownList)f=a.extend({},b.DropDownList.prototype.defaults,d),e.constructor.__super__.constructor.call(e,c,f),e.init();else return new b.DropDownList(c,d)}return f(e,d),e.name="DropDownList",e.prototype.defaults={dropDownListClass:""+b.defaultGradientBG+"  uiCornerAll "+b.defaultBorder,selectListClass:""+b.defaultGradientBG+" uiCornerAll uiBlackBorder uiBlackBoxShadow",pageSize:5,showAll:!1,multiple:!1,dropListType:"normal",searchTip:"查找/search",hasScrollBar:!1,listItemHoverClass:b.hoverGradientBG,divideChar:";",click:a.noop,change:a.noop,input:a.noop,blur:a.noop,focus:a.noop,selectItemTotal:0,listItemOuterHeight:0,dropDownHTML:'<div class="uiDropDown">                    <div class="uiDropDownBtn uiSmallIcon uiDropdownButtonIcon uiBlackBorder"></div>                </div>',selectListHTML:'<div class="uiSelectList"></div>',noListDataHTML:'<li style="font-size:12px;">无数据项..</li>'},e.prototype.init=function(){var a;return a=this,a.createWidget(),c(a.jqObj,a.opts),a},e.prototype.selectedItem=function(b){var c,d,e;return c=this,e=c.jqObj,d=c.opts,arguments.length===0?a(">.uiSelectList>.selected",e):(a("> .uiSelectList > li:eq("+b+")",e).click(),c)},e.prototype.list=function(b){var c,d,e,f,g,h,i,j,k;c=this,i=c.jqObj,g=c.opts,h=a(".uiSelectList",i);if(arguments.length===0)return h.children();h.empty();if(typeof b=="string")h.html(b);else if(a.isArray(b))if(b.length===0)h.append(g.noListDataHTML);else for(j=0,k=b.length;j<k;j++)d=b[j],h.append("<li>"+d+"</li>");else h.append(b);e=h.find(">li"),g.selectItemTotal=e.length,g.multiple&&e.prepend('<span class="uiSmallIcon uiSelectedIcon uiSelected"></span>'),f=g.pageSize;if(g.showAll||g.pageSize>g.selectItemTotal)f=g.selectItemTotal;return g.listItemOuterHeight===0&&(g.listItemOuterHeight=e.outerHeight(!0)),h.height(g.listItemOuterHeight*f),a(">.uiSelectList >li",i).hover(function(){return a(this).addClass(g.listItemHoverClass)},function(){return a(this).removeClass(g.listItemHoverClass)}),c},e.prototype.showSelectList=function(){var a,b,c;return a=this,c=a.jqObj,b=a.opts,c.children(".uiSelectList").show(),a},e.prototype.hideSelectList=function(){var a,b,c;return a=this,c=a.jqObj,b=a.opts,c.children(".uiSelectList").hide(),a},e.prototype.val=function(){var b,c,d,e;return b=this,e=b.jqObj,c=b.opts,d=[],e.find(">.uiSelectList >.selected").each(function(){return d.push(a(this).text())}),d},e}(b.Widget),c=function(b,c){var e,f,g,h;return g=c.multiple?"uiMultiple":"",h=b.children().addClass(""+g+" uiSelectList "+c.selectListClass),f=a(">li",h),c.selectItemTotal=f.length,e=a(c.dropDownHTML),c.dropListType==="search"?e.append('<input type="text" value="'+c.searchTip+'" class="uiCornerAll" />'):e.append("<span></span>"),c.multiple&&f.prepend('<span class="uiSmallIcon uiSelectedIcon uiSelected"></span>'),b.prepend(e).addClass("uiDorpDownList uiWidget "+c.dropDownListClass),c.dropListType==="search"&&e.children("input").width(e.width()-2*parseInt(e.css("paddingLeft"))-e.children(".uiDropDownBtn").outerWidth(!0)),c.showAll?c.pageSize=c.selectItemTotal:(c.listItemOuterHeight=f.outerHeight(),h.height(c.listItemOuterHeight*c.pageSize)),h.hide(),d(b,c),null},d=function(b,c){var d,e,f;return d=b.off?"on":"bind",f=a("> .uiDropDown > span, > .uiDropDown > input",b),a(">.uiDropDown",b)[d]("click.uiDorpDownList",function(d){var e;return e=a(this),c.click(b,e,d)===!1?!1:e.siblings(".uiSelectList").slideToggle(c.animateTime)}),e=a(">.uiSelectList",b),c.hasScrollBar?e.scrollBar():e[d]("mousewheel.uiDorpDownList",function(b,d){var e,f;e=a(this);if(a(">li",e).length<=c.pageSize)return;return d<0?(f=a(">li:not(:hidden):first",e),f.nextAll("li").length>=c.pageSize&&f.hide()):a(">li:hidden:last",e).show(),!1}),e[d]("click.uiDorpDownList",function(d){var e,g,h,i;e=a(this),i=a(d.target),g=a.prop?"prop":"attr";if(i[g]("tagName").toUpperCase()!=="LI"){i=i.parent("li");if(i.length===0)return}h=i.toggleClass("selected").text(),c.multiple?(h="",e.children(".selected").each(function(){return h+=a(this).text()+c.divideChar}),h=h.substring(0,h.length-1)):e.slideUp(),c.dropListType==="search"?f.val(h):f.html(h);if(c.chage(b,e,h,d)===!1)return!1}),a("> .uiSelectList > li",b).hover(function(){return a(this).addClass(c.listItemHoverClass)},function(){return a(this).removeClass(c.listItemHoverClass)}),null}})).call(this);