(function(){var e,t,n={}.hasOwnProperty,r=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},i=window.jQuery,s=window.BASE;i.fn.dropDownList=function(e){var t,n=this,r=Array.prototype.slice.call(arguments);return r.push(s.DropDownList),t=s.createWidgetByJQuery.apply(n,r),t.jqObj!=null&&e!=="widget"?n:t},s.DropDownList=function(t){function n(e,t){var n,r,o=this;if(!(o instanceof s.DropDownList))return new s.DropDownList(e,t);n={dropDownListClass:""+s.defaultGradientBG+"  uiCornerAll "+s.defaultBorder,selectListClass:""+s.defaultGradientBG+" uiCornerAll uiBlackBorder uiBlackBoxShadow",pageSize:5,showAll:!1,multiple:!1,dropListType:"normal",searchTip:"\u67e5\u627e/search",hasScrollBar:!1,listItemHoverClass:s.hoverGradientBG,divideChar:";",click:i.noop,change:i.noop,input:i.noop,blur:i.noop,focus:i.noop,selectItemTotal:0,listItemOuterHeight:0,dropDownHTML:'<div class="uiDropDown">                      <div class="uiDropDownBtn uiSmallIcon uiDropdownButtonIcon uiBlackBorder"></div>                  </div>',selectListHTML:'<div class="uiSelectList"></div>',noListDataHTML:'<li style="font-size:12px;">\u65e0\u6570\u636e\u9879..</li>'},r=i.extend({},n,t),o.constructor.__super__.constructor.call(o,e,r),o.init()}return r(n,t),n.prototype.init=function(){var t=this;return t.createWidget(),e(t.jqObj,t.opts),t},n.prototype.selectedItem=function(e){var t=this,n=t.jqObj,r=t.opts;return arguments.length===0?i(">.uiSelectList>.selected",n):(i("> .uiSelectList > li:eq("+e+")",n).click(),t)},n.prototype.list=function(e){var t,n,r,s,o,u=this,a=u.jqObj,f=u.opts,l=i(".uiSelectList",a);if(arguments.length===0)return l.children();l.empty();if(typeof e=="string")l.html(e);else if(i.isArray(e))if(e.length===0)l.append(f.noListDataHTML);else for(s=0,o=e.length;s<o;s++)t=e[s],l.append("<li>"+t+"</li>");else l.append(e);n=l.find(">li"),f.selectItemTotal=n.length,f.multiple&&n.prepend('<span class="uiSmallIcon uiSelectedIcon uiSelected"></span>'),r=f.pageSize;if(f.showAll||f.pageSize>f.selectItemTotal)r=f.selectItemTotal;return f.listItemOuterHeight===0&&(f.listItemOuterHeight=n.outerHeight(!0)),l.height(f.listItemOuterHeight*r),i(">.uiSelectList >li",a).hover(function(){return i(this).addClass(f.listItemHoverClass)},function(){return i(this).removeClass(f.listItemHoverClass)}),u},n.prototype.showSelectList=function(){var e=this,t=e.jqObj,n=e.opts;return t.children(".uiSelectList").show(),e},n.prototype.hideSelectList=function(){var e=this,t=e.jqObj,n=e.opts;return t.children(".uiSelectList").hide(),e},n.prototype.val=function(){var e=this,t=e.jqObj,n=e.opts,r=[];return t.find(">.uiSelectList >.selected").each(function(){return r.push(i(this).text())}),r},n}(s.Widget),e=function(e,n){var r,s=n.multiple?"uiMultiple":"",o=e.children().addClass(""+s+" uiSelectList "+n.selectListClass),u=i(">li",o);return n.selectItemTotal=u.length,r=i(n.dropDownHTML),n.dropListType==="search"?r.append('<input type="text" value="'+n.searchTip+'" class="uiCornerAll" />'):r.append("<span></span>"),n.multiple&&u.prepend('<span class="uiSmallIcon uiSelectedIcon uiSelected"></span>'),e.prepend(r).addClass("uiDorpDownList uiWidget "+n.dropDownListClass),n.dropListType==="search"&&r.children("input").width(r.width()-2*parseInt(r.css("paddingLeft"))-r.children(".uiDropDownBtn").outerWidth(!0)),n.showAll?n.pageSize=n.selectItemTotal:(n.listItemOuterHeight=u.outerHeight(),o.height(n.listItemOuterHeight*n.pageSize)),o.hide(),t(e,n),null},t=function(e,t){var n,r=i("> .uiDropDown > span, > .uiDropDown > input",e);return i(">.uiDropDown",e).on("click.uiDorpDownList",function(n){var r=i(this);return t.click(e,r,n)===!1?!1:r.siblings(".uiSelectList").slideToggle(t.animateTime)}),n=i(">.uiSelectList",e),t.hasScrollBar?n.scrollBar():n.on("mousewheel.uiDorpDownList",function(e,n){var r,s=i(this);if(i(">li",s).length<=t.pageSize)return;return n<0?(r=i(">li:not(:hidden):first",s),r.nextAll("li").length>=t.pageSize&&r.hide()):i(">li:hidden:last",s).show(),!1}),n.on("click.uiDorpDownList",function(n){var s,o=i(this),u=i(n.target),a=i.prop?"prop":"attr";if(u[a]("tagName").toUpperCase()!=="LI"){u=u.parent("li");if(u.length===0)return}s=u.toggleClass("selected").text(),t.multiple?(s="",o.children(".selected").each(function(){return s+=i(this).text()+t.divideChar}),s=s.substring(0,s.length-1)):o.slideUp(),t.dropListType==="search"?r.val(s):r.html(s);if(t.change(e,o,s,n)===!1)return!1}),i("> .uiSelectList > li",e).hover(function(){return i(this).addClass(t.listItemHoverClass)},function(){return i(this).removeClass(t.listItemHoverClass)}),null}}).call(this)