(function(){var e,t,n,r={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},s=window.jQuery,o=window.BASE;s.fn.tabs=function(e){var t,n=this,r=Array.prototype.slice.call(arguments);return r.push(o.Tabs),t=o.createWidgetByJQuery.apply(n,r),t.jqObj!=null&&e!=="widget"?n:t},o.Tabs=function(e){function t(e,t){var n,r,i=this;if(!(i instanceof o.Tabs))return new o.Tabs(e,t);n={tabsClass:""+o.defaultBorder+" uiCornerAll "+o.defaultBoxShadow,titleBarClass:o.defaultGradientBG,tabsItemWidth:-1,tabsItemMargin:-1,closableArray:"all",activateIndex:0,tabsItemHoverClass:o.hoverGradientBG,tabsItemSelectedClass:"selected",titleList:null,change:s.noop,close:s.noop,leftClick:s.noop,rightClick:s.noop,tabsItemTotal:0,tabsItemOuterWidth:0,tabsItemViewTotal:0,tabsItemViewIndex:0,titleBarHTML:'<div class="uiTitleBar uiTabsList uiNoSelectText"><div class="uiListContent"><div class="uiTabsItemContainer"></div></div></div>',tabsItemHTML:'<div class="uiTabsItem uiCornerTop"></div>',contentHTML:'<div class="uiContent"></div>',controlHTML:'<div class="uiLeftArrow uiSmallIcon uiArrowLeftIcon"></div><div class="uiRightArrow uiSmallIcon uiArrowRightIcon""></div>',closeHTML:'<div class="uiCloseItemBtn uiSmallIcon uiSmallcloseButtonIcon"></div>'},r=s.extend(n,t),i.constructor.__super__.constructor.call(i,e,r),i.init()}return i(t,e),t.prototype.init=function(){var e=this;return e.createWidget(),n(e.jqObj,e.opts),e},t.prototype.addItem=function(e,t,n){var r,i,o,u=this,a=u.jqObj,f=u.opts,l=s(e);return t==null&&(t=l.attr("title")),isNaN(parseInt(n))?(o=s("> .uiTabsList > .uiListContent > .uiTabsItemContainer",a),r=a,i="appendTo"):(o=s("> .uiTabsList > .uiListContent > .uiTabsItemContainer > .uiTabsItem",a).eq(n),r=a.childdren(".uiTabsContent").eq(n),i="insertBefore"),s(f.tabsItemHTML).html(t+f.closeHTML)[i](o),s(f.contentHTML).addClass("uiTabsContent uiHidden").append(l)[i](o),f.tabsItemTotal++,u},t.prototype.activate=function(e){var t=this,n=t.jqObj,r=t.opts;return arguments.length===0?r.activateIndex:(s(">.uiTitleBar >.uiListContent .uiTabsItem",n).eq(e).trigger("click.uiTabs"),t)},t.prototype.item=function(e,t,n){var r,i,o=this,u=o.jqObj,a=o.opts;return e==null&&(e=0),r=s(">.uiTabsContent",u).eq(e),i=s("> .uiTabsList > .uiListContent > .uiTabsItemContainer >.uiTabsItem",u).eq(e),typeof t=="undefined"?r:(t!=null&&r.html(t),typeof n=="undefined"?i:(i.html(n),o))},t}(o.Widget),n=function(e,n){var r,i,o,u,a=s(n.titleBarHTML).addClass(n.titleBarClass).append(n.controlHTML);return e.addClas("uiTabs uiWidget "+n.tabsClass).children().each(function(e){var t,r,i="";if(n.closableArray==="all"||s.isArray(n.closableArray)&&s.inArray(e,n.closableArray)!==-1)i=n.closeHTML;return t=s(this).addClass("uiTabsContent uiHidden"),s.isArray(n.titleList)&&(r=n.titleList[e]),r==null&&(r=content.attr("title")),s(n.tabsItemHTML).html(r+i).appendTo(s(">.uiListContent >.uiTabsItemContainer",a)),n.tabsItemTotal++}),e.prepend(a),o=s("> .uiTabsList > .uiListContent .uiTabsItem",e),n.tabsItemWidth>0&&o.width(n.tabsItemWidth),n.tabsItemMargin>-1&&o.css("marginLeft",n.tabsItemMargin),n.tabsItemOuterWidth=o.outerWidth(!0),n.tabsItemViewTotal=Math.floor(s(">.uiTabsList",e).width()/n.tabsItemOuterWidth),n.tabsItemTotal>n.tabsItemViewTotal&&s("> .uiTitleBar > .uiRightArrow",e).show(),i=e.height(),u=a.height(),i>u&&(r=e.children(".uiTabsContent"),r.height(i-u-parseInt(r.css("marginTop"))-parseInt(r.css("marginBotto")))),t(e,n),null},t=function(t,n){return s("> .uiTabsList > .uiListContent > .uiTabsItemContainer",t).on("click.uiTabs",function(r){var i,o,u,a,f=s(r.target);if(f.hasClass("uiCloseItemBtn"))return a=f.parent(".uiTabsItem"),n.close(t,a,r)===!1?!1:(u=a.next(),u.length!==0?u.click():a.prev().click(),o=a.index(),t.children(".uiTabsContent").eq(o).remove(),a.remove(),n.tabsItemTotal--,e(t,n),!1);if(f.hasClass("uiTabsItem"))return o=f.addClass(n.tabsItemSelectedClass).siblings(".selected").removeClass(n.tabsItemSelectedClass).end().index(),i=t.children(".uiTabsContent").eq(o),n.change(t,f,i,r)===!1?!1:(i.removeClass("uiHidden").siblings(".uiTabsContent").addClass("uiHidden"),n.activateIndex=o)}),s(">.uiTitleBar",t).on("click.uiTabs",function(r){var i,o,u=s(r.target);u.hasClass("uiRightArrow")?(i="rightClick",n.tabsItemViewIndex++):u.hasClass("uiLeftArrow")&&(i="leftClick",n.tabsItemViewIndex--);if(n.tabsItemViewIndex<0){n.tabsItemViewIndex=0;return}if(n.tabsItemTotal-n.tabsItemViewTotal<n.tabsItemViewIndex){n.tabsItemViewIndex=n.tabsItemTotal-n.tabsItemViewTotal;return}if(i!=null)return n[i](t,u,r)===!1?!1:(o=n.tabsItemOuterWidth*n.tabsItemViewIndex,u.siblings(".uiListContent").stop().animate({left:-o},n.animateTime),e(t,n))}),s(">.uiTabsList",t).on("mousewheel.uiTabs",function(e,t){return t>0?s(">.uiLeftArrow",this).click():s(">.uiRightArrow",this).click(),!1}),s("> .uiTabsList > .uiListContent > .uiTabsItemContainer > .uiTabsItem",t).hover(function(){return s(this).addClass(n.tabsItemHoverClass)},function(){return s(this).removeClass(n.tabsItemHoverClass)}),null},e=function(e,t){var n=s("> .uiTitleBar > .uiRightArrow",e),r=s("> .uiTitleBar > .uiLeftArrow",e);return t.tabsItemTotal-t.tabsItemViewTotal<=t.tabsItemViewIndex?n.hide():n.show(),t.tabsItemViewIndex<=0?r.hide():r.show(),null}}).call(this)